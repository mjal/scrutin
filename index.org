#+STARTUP: overview
* Scrutin üïäÔ∏è
* TODO
** TODO Organize TODOs. Max priority to the following essential features
*** Add ballot hash when voting (Verif individuelle)
*** Move ballot list to another page (Verif universelle)
*** Relocate serveurs to OVH
*** Documentation: Add CNRS
*** Email verification before sending invitation emails
** TODO Interface de v√©rifiabilit√© individuelle
** TODO New Step5 : Vue intermediaire to explain why you need a password
** TODO Step5 : Rename Step_Password
** TODO One-time-code by email
** TODO Bigger Button Most of the time
** TODO Majority judgement: Nombre de participation
* DatePicker
* Sauvegarde mot de passe
** Interligne
* Autres
** TODO Mettre des margees sur mobile
** TODO Pouvoir modifier une election tant qu'elle est pas ouverte.

** TODO Majority Judgement: Choix des mentions [Later]
** TODO Put name in ballots

** TODO Store credentials in a db (`credentials`) with rows id, uuid, email, pub(, priv (optionnel))
** TODO Validate emails in the input
* BACKLOG
** Comptes utilisateurs
** Permettre la cr√©ation d'invites (Apr√®s comptes utilisateurs)
** Generate .bel that can be verified with Belenios and Sirona
** Verify result on server
** Short links (scrut.in : redirect slug -> full url ?)
** Rajouter des champs √† une election (open, ...)
** Permettre de voter nul ? (Avec une checkbox en haut, enabled de base)
** Server-side restriction temps de vote
** Rentre configurable les mentions
** TODO Make Previous works in New (so update state directly instead of local variables ?)
** TODO Election_New_Date: Better ui
  - Fix nothing happening when clicking on checkbox
  - Fix Date.new setting the current time
** TODO Booth: Container everywhere
** TODO Show: Container
** TODO Refactor Step5 + Add Step6 "Cr√©er l'√©lection ?"
** TODO S.Title everywhere instead of long css list. Rename H1
** TODO Nex_Step3: Next Disabled
** TODO Nex_Step4: Next Text
** TODO S.P everywhere
** TODO ui/ with P, H1, Container
** TODO Jugement majoritaire
*** Ajouter des stats par nombre/pourcentage
*** Changer () vers :
** TODO Resultats
*** Taux de participation
* DONE >>
** DONE Design Booth
** DONE Refactor Election New without changing the global state
** DONE Fix get ElectionData after upload
** DONE Open Booth Rename + 2 steps
** DONE Refresh count of vote in real time ?
** DONE Upload ballots
** DONE Election password: Verify it's 12 words.
** DONE Election password: Verify it's part of the trustees.
** DONE Publier sirona with the index.js
** DONE [#A] Rescript compil' cass√©e
** DONE Calculer r√©sulat -> D√©pouiller
** DONE Email stephane@mankowski.fr
** DONE Step2: Big Title
** DONE Step2: Back to Step1 if no title
** DONE Step1: Keypress enter -> Next
** DONE Step3
** DONE Remove invite by phone
** DONE Step2: Lighter placeholder
** DONE Step1: Disable until has title
** DONE Step2: Disable until all choices filled
** DONE Step2: Rename choices options
** DONE [#A] Ask feedback to NLnet
** DONE [[file:retour-deuxfleurs.org][Retour deuxfleurs]]
** DONE Cannot vote twice with the same browser
** DONE [#A] NLnet
** DONE [#C] Goodies
** DONE R√©ponse St√©phane
** DONE Publier rescript-json-combinators with the fix
** DONE Creer une dummy election via sirona
** DONE G√©rer le "can't resolve ..." en console
** DONE Add randomness in sirona from expo-crypto (as in scrutin)
** DONE Staging: Deploy to netlify
** DONE Staging: Update url in registrar
** DONE Retest Ballot.verify in sirona
** DONE Centrer le mot de passe + Fichier bas√© sur l'uuid ?
** DONE Pas de bouton voter
** DONE D√©pouiller dans une section "Avanc√© ?" ou simplement a trouver par url ?
** DONE [SECURITY] overall_proof error ?
** DONE Refactoring Election Booth
** DONE Header ElectionShow (Result)
** DONE Headers ElectionNew
** DONE (Almost) remove Election Header. Header by view name instead
** DONE Election result
*** Create an election with 2 ballots
*** Send result (client)
*** Register result (server)
*** Show result in the show

** DONE Remove CreateOpenElection
** DONE Remove loading in step 5
** DONE Rename ElectionNew -> Election_New
** DONE Virer unrestricted et utiliser access
** DONE Partager link in show if open
** DONE Envoi de mails throttled
** DONE Tester d'envoyer depuis contact@scrutin.app
** DONE Fix no from in STMP send
** DONE Tester l'async pour node-mailer ?
** DONE Send by sendgrid if not @deuxfleurs.fr
** DONE Remove if (1) for production tests
** DONE Remove localhost in .env
** DONE Booth: 1. Use setState
** DONE Credentials via direct STMP
** DONE Show ballots in ElectionShow and/or ElectionTally
** DONE Credentials by email
** DONE Booth: Use priv
** DONE Deploy
** DONE Multiple questions

** DONE Majority Judgement: Election Creation
** DONE Majority Judgement: Add as field of the election
** DONE Majority Judgement: Calcul de la m√©diane
** DONE /booth : avote to another url to avoid revote on refresh
** DONE /booth : Show that it's closed after tally

** DONE Ne pas permettre le revote sur la m√™me invit'
** DONE Mettre ou pas mettre "vote secret"
** DONE Increase Line height
** DONE Crash if blank line in emails (or no emails)

** DONE Rajouter les dates a chaque fois: toLocaleString
** DONE Ne plus pouvoir voter apres la  fin de la p√©riode
** DONE Bug du retour en Step0 au lieu de Step0b
** DONE Passer demo.scrutin.app √† scrutin.app
** DONE Deploy bbs for new env
** DONE doc.scrutin.app
** DONE Link "Documentation" from scrutin.app to doc.scrutin.app
** DONE Rename bbs -> server and remove registar and bbs mentions in the code
** DONE Cleanup / incl. upload_ballot
** DONE Move config from URL (end X.env) to Config
** DONE Rename X to HTTP
** DONE Champ description
** DONE Result: dates non definis
** DONE Quand c'est termin√©, afficher si on d√©j√† vot√©
** DONE Griser le submit si pas de choix
** DONE Rajouter une mention intermediaire pour en avoir 5
** DONE Mentions de Likert
** DONE Ajouter le (d√©but du) nom de l'election dans le titre du mail
** DONE Doubles votes ?
** DONE Tester les nouveaux mails d'invitation
** DONE Mail: Pas montrer description si pas de description
** DONE Mail: Jusqu'√† 60 chars
** DONE Bouton retour apr√®s le √™tes vous sur
** DONE Tally: Filtrer les revotes !! (Comme not√© en after AG)
** DONE Nombre de votes enregistrer: Enlever ou sp√©cifier revotes ?
** DONE Griser tant que pas de choix pour la cl√© de gardien
** DONE Result: uniq sur les bulletins
** DONE Booth: Retour page de l'election en blanc + texte noir
** DONE Page des dates: Improve
** DONE S.Title everywhere. Rename H1
** DONE Election_New: All questions in one view
** DONE QUestions: Pourquoi back to previous UI???
** DONE Election_New: Make Previous refresh state
** DONE UI on mobile: Smaller buttons
** DONE Radio_Group
** DONE Comment on y participe
*** Titre "Mode de scrutin"
*** Inclusivit√©
*** Changer candidat vers option
*** "Doivent donner une appr√©ciation pour chaque option" au lieu de sur "une" √©chelle.
** DONE Election_New: optional_field?
** DONE Deploy l'app chez deuxfleurs. URL: Scrutin.app site de pr√©sentation: ?
** DONE Etes-vous sur¬∑e: Bouton pr√©c√©dent
** DONE [After elec] Tally: Only use provided credentials when #closed
** DONE [After elec] Rework email
** DONE Checker le figma
** DONE Commencer au lundi
** DONE Vote ouvert / Vote ferm√© (ou Participation)
** DONE New: Disable while empty choices
** DONE Container/Marges sur ElectionShow
** DONE Booth: Remember choice when going back (+ add previous button if necessary)
** DONE Container/Marges sur Booth
* Communications
** echo des cabanes                                                   :audio:
** libre √† vous                                                       :audio:
** wikilibriste                                                        :post:
** linux-fr                                                            :post:
* Design [[https://www.figma.com/file/wfmBt91G0xfBlOEpKsEePE/Scrutin-mobile?type=design&node-id=0-1&mode=design&t=azUpdgTZEJHlfCzJ-0][[1]‚Äã]] [[https://www.figma.com/file/A6kgFmJeyAbO78faXJpyy8/Material-3-Design-Kit-(Community)?type=design&node-id=11-1833&mode=design&t=XrFFnXAqFawvPtih-0][[Material3]‚Äã]]
* Features list
** DONE Revert auth to simple link invites
** Allow to remove invites
** Show which invites has been used
** Pouvoir telecharger et importer les clefs d'une election
** Two gardians: Client and server
** User accounts (web3)
** Feature: On peut importer/exporter les cl√©s d'une election
Contexte:
Pour pouvoir clore une election et calculer le r√©sultat, il faut poss√©der un morceau des cl√©s de l'election
Elle ne sont pas stock√©s sur le serveur pour avoir du chiffrement de bout-en-bout
Actuellement elle sont dans le localstorage de la personne cr√©ant l'√©lection. Si on perd la session on ne peut plus d√©chiffrer l'election.
Suggestion: Pouvoir t√©l√©charger(=exporter) les cl√©s pour pour pouvoir √©ventuellement les charger sur une autre session.
** Feature(MultiGuardian): Double chiffrement Admin + Serveur
** Feature(MultiGuardian): Pouvoir avoir un quorum de guardians (creation + cloture) en plus du serveur
